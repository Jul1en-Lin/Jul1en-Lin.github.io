[{"content":"SpringDIè¯¦è§£ ä¸Šä¸€ç« èŠ‚å¯¹DIè¿›è¡Œäº†åˆæ­¥çš„ä»‹ç»ï¼Œæ¥ä¸‹æ¥å°±å¯¹DIæœ‰ä¸€ä¸ªæ›´åŠ æ·±åˆ»çš„è®¤è¯†\nä¸IoCåŒ¹é…çš„å°±æ˜¯DIï¼ŒDIå…¨åä¸ºDependency Injectionï¼Œå³ä¾èµ–æ³¨å…¥ï¼Œæ—¢ç„¶æœ‰IoCç®¡ç†ï¼Œé‚£å°±ä¼šæœ‰DIä»Springå®¹å™¨ä¸­å–å‡ºæ¥ï¼ŒDIå°±æ˜¯æ‰¿æ‹…è¿™æ ·çš„è§’è‰²â€”â€”DI æ˜¯ IoC çš„ä¸€ç§å…·ä½“å®ç°æ–¹å¼ï¼Œä¹Ÿèƒ½ç†è§£ä¸ºï¼šå®¹å™¨é€šè¿‡æ³¨å…¥ä¾èµ–æ¥å®ç°æ§åˆ¶åè½¬ï¼Œä¾èµ–æ³¨å…¥æ˜¯ä¸€ä¸ªè¿‡ç¨‹\nDIåˆ†ä¸‰ç§æ–¹å¼æ³¨å…¥ å±æ€§æ³¨å…¥ æ„é€ æ–¹æ³•æ³¨å…¥ Setteræ³¨å…¥ å±æ€§æ³¨å…¥ å±æ€§æ³¨å…¥æ˜¯é€šè¿‡@Autowiredâ€‹å®ç°çš„ã€‚å¦‚æœæœ‰å¤šä¸ªå±æ€§éœ€è¦é€è¡Œæ³¨å…¥ã€‚@Autowiredåªå¯¹ç´§æŒ¨ç€é‚£ä¸€è¡Œä»£ç ç”Ÿæ•ˆ\næ„é€ æ–¹æ³•æ³¨å…¥ å¦‚æœåªæœ‰ä¸€ç§æ„é€ æ–¹æ³•ï¼Œåˆ™æ‰§è¡Œè¿™ä¸€ç§æ„é€ æ–¹æ³•ï¼Œæ— è®ºæ˜¯æœ‰å‚æ„é€ è¿˜æ˜¯æ— å‚æ„é€ \n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 private UserService service; public UserController(UserService userService) { System.out.println(\u0026#34;æ‰§è¡Œæœ‰å‚æ„é€ æ–¹æ³•\u0026#34;); this.service = userService; } public void print() { service.print(); System.out.println(\u0026#34;do controller\u0026#34;); } // å¯åŠ¨é¡¹ UserController bean = text.getBean(UserController.class); bean.print(); // è¿è¡Œç»“æœ // æ‰§è¡Œæœ‰å‚æ„é€ æ–¹æ³• // do service // do controller æ‰§è¡ŒæˆåŠŸï¼Œprint()â€‹æ‹¿åˆ°serviceå¯¹è±¡\nâ€\nå¦‚æœæœ‰å¤šç§æ„é€ æ–¹æ³•ï¼Œåˆ™é»˜è®¤æ‰§è¡Œæ— å‚çš„æ„é€ æ–¹æ³•\nå­˜åœ¨æ— å‚çš„æ„é€ æ–¹æ³• 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 private UserService service; private UserRepository repository; public UserController(UserService userService,UserRepository userRepository) { System.out.println(\u0026#34;æ‰§è¡Œæœ‰å‚æ„é€ æ–¹æ³•1\u0026#34;); this.service = userService; this.repository = userRepository; } public UserController(UserService userService) { System.out.println(\u0026#34;æ‰§è¡Œæœ‰å‚æ„é€ æ–¹æ³•2\u0026#34;); this.service = userService; } public UserController() { System.out.println(\u0026#34;æ‰§è¡Œæ— å‚æ„é€ æ–¹æ³•\u0026#34;); } public void print() { service.print(); repository.print(); System.out.println(\u0026#34;do controller\u0026#34;); } // å¯åŠ¨é¡¹ UserController bean = text.getBean(UserController.class); bean.print(); ç”±äºæ‰§è¡Œçš„æ˜¯æ— å‚çš„æ„é€ æ–¹æ³•ï¼Œ print()â€‹æ–¹æ³•æ‹¿ä¸åˆ°serviceâ€‹å’Œrepositoryå¯¹è±¡ï¼Œæ•…æŠ¥é”™\nå¦‚æœä¸å­˜åœ¨æ— å‚æ„é€ æ–¹æ³•ï¼Œåˆ™ç›´æ¥æŠ¥é”™ã€‚æŠ¥é”™æ—¥å¿—ä¸ºï¼šæ‰¾ä¸åˆ°é»˜è®¤çš„æ„é€ æ–¹æ³• 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 private UserService service; private UserRepository repository; public UserController(UserService userService,UserRepository userRepository) { System.out.println(\u0026#34;æ‰§è¡Œæœ‰å‚æ„é€ æ–¹æ³•1\u0026#34;); this.service = userService; this.repository = userRepository; } public UserController(UserService userService) { System.out.println(\u0026#34;æ‰§è¡Œæœ‰å‚æ„é€ æ–¹æ³•2\u0026#34;); this.service = userService; } // public UserController() { // System.out.println(\u0026#34;æ‰§è¡Œæ— å‚æ„é€ æ–¹æ³•\u0026#34;); // } public void print() { service.print(); repository.print(); System.out.println(\u0026#34;do controller\u0026#34;); } // å¯åŠ¨é¡¹ UserController bean = text.getBean(UserController.class); bean.print(); å¯ä»¥é€šè¿‡@Autowired æ³¨è§£æ¥æŒ‡å®šæ„é€ æ–¹æ³•ï¼Œæ­¤æ—¶1. å’Œ 2. çš„æƒ…å†µéƒ½èƒ½è§£å†³ï¼Œæ²¡æœ‰æ— å‚æ„é€ æ–¹æ³•ä¹Ÿä¸ä¼šæŠ¥é”™ï¼Œè¿™ä¸¤ç§æƒ…å†µéƒ½èƒ½è¿è¡Œ\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 private UserService service; private UserRepository repository; @Autowired public UserController(UserService userService,UserRepository userRepository) { System.out.println(\u0026#34;æ‰§è¡Œæœ‰å‚æ„é€ æ–¹æ³•1\u0026#34;); this.service = userService; this.repository = userRepository; } public UserController(UserService userService) { System.out.println(\u0026#34;æ‰§è¡Œæœ‰å‚æ„é€ æ–¹æ³•2\u0026#34;); this.service = userService; } public UserController() { System.out.println(\u0026#34;æ‰§è¡Œæ— å‚æ„é€ æ–¹æ³•\u0026#34;); } public void print() { service.print(); repository.print(); System.out.println(\u0026#34;do controller\u0026#34;); } // è¿è¡Œç»“æœ // æ‰§è¡Œæœ‰å‚æ„é€ æ–¹æ³•1 // do service // do repository // do controller â€‹@Autowired å°±æ˜¯æ˜ç¡®è¯¥ä½¿ç”¨å“ªä¸ªæ„é€ æ–¹æ³•çš„\nSetteræ³¨å…¥ â€‹Setterâ€‹ æ³¨å…¥å’Œå±æ€§çš„Setter â€‹æ–¹æ³•å®ç°ç±»ä¼¼ï¼Œåªä¸è¿‡åœ¨è®¾ç½® setâ€‹ æ–¹æ³•çš„æ—¶å€™åŠ ä¸Š@Autowired æ³¨è§£ï¼Œå¦‚ä¸‹æ‰€ç¤º\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 // Setter æ–¹æ³•æ³¨å…¥ private UserService service; private UserRepository repository; @Autowired public void setUserService(UserService service) { this.service = service; } @Autowired public void setUserService(UserRepository repository) { this.repository = repository; } public void print() { service.print(); repository.print(); System.out.println(\u0026#34;do controller\u0026#34;); } ä¸‰ç§æ³¨å…¥çš„ä¼˜ç¼ºç‚¹ å±æ€§æ³¨å…¥\nä¼˜ç‚¹ï¼šç®€æ´ï¼Œä½¿ç”¨æ–¹ä¾¿\nç¼ºç‚¹ï¼š\nä¸èƒ½æ³¨å…¥â€‹â€‹finalâ€‹â€‹ä¿®é¥°çš„å±æ€§â€”â€”â€‹finalâ€‹â€‹çš„å±æ€§æœ‰è¦æ±‚ï¼Œä¸€å®šéœ€è¦åˆå§‹åŒ–ã€‚è¦ä¹ˆåœ¨å±æ€§æ³¨å…¥çš„æ—¶å€™è¿›è¡Œåˆå§‹åŒ–ï¼Œè¦ä¹ˆåœ¨æ„é€ æ–¹æ³•ä¸­è¿›è¡Œåˆå§‹åŒ–ï¼Œä½†è¿™éƒ½è¿èƒŒäº†æ³¨å…¥çš„åˆè¡·ï¼šåªæƒ³ä»Springå®¹å™¨ä¸­å–å‡ºæ¥ï¼Œä¸æƒ³æ‰‹åŠ¨åˆå§‹åŒ–ï¼Œå¦åˆ™æˆ‘ç”¨â€‹â€‹@Autowiredâ€‹â€‹å°±æ²¡æ„ä¹‰äº†\næ„é€ æ–¹æ³•æ³¨å…¥\nSpringå®˜æ–¹å›¢é˜Ÿï¼ˆä»¥åŠIdeaçš„æç¤ºï¼‰ç›®å‰æœ€æ¨èä½¿ç”¨çš„æ˜¯â€œæ„é€ å™¨æ³¨å…¥â€\nä¼˜ç‚¹ï¼š\nå¯ä»¥æ³¨å…¥â€‹â€‹finalâ€‹â€‹ä¿®é¥°çš„å±æ€§â€”â€”å¯ä»¥åœ¨æ„é€ æ–¹æ³•ä¸­è¿›è¡Œåˆå§‹åŒ–ï¼Œä¹Ÿæ˜¯è§£å†³â€‹â€‹finalâ€‹â€‹å¿…é¡»åˆå§‹åŒ–çš„è¦æ±‚\næ³¨å…¥çš„å¯¹è±¡ä¸ä¼šè¢«ä¿®æ”¹ï¼Œé™¤éæœ‰â€‹â€‹setâ€‹â€‹æ–¹æ³•å†å¯¹å¯¹è±¡ä¿®æ”¹ï¼Œå¦åˆ™åˆå§‹åŒ–åå°±å®šå¥½äº†\né€šç”¨æ€§å¥½ï¼šæ„é€ æ–¹æ³•æ˜¯JDKæ”¯æŒçš„ï¼Œæ‰€ä»¥æ›´æ¢ä»»ä½•æ¡†æ¶éƒ½æ˜¯ä½¿ç”¨çš„\n**ä¾èµ–å¯¹è±¡åœ¨ä½¿ç”¨å‰ä¸€å®šè¢«å®Œå…¨åˆå§‹åŒ–ï¼Œå› ä¸ºä¾èµ–æ˜¯åœ¨ç±»çš„æ„é€ æ–¹æ³•ä¸­æ‰§è¡Œçš„ï¼Œè€Œæ„é€ æ–¹æ³•æ˜¯åœ¨ç±»åŠ è½½çš„é˜¶æ®µå°±ä¼šè¢«æ‰§è¡Œâ€”â€”**â€‹ä»æ§åˆ¶å°ä¹Ÿèƒ½ç®€å•çœ‹å‡ºæ¥ï¼Œå…ˆæ‰§è¡Œæ„é€ æ–¹æ³•åå†è¿è¡ŒæœåŠ¡å™¨\nç¼ºç‚¹ï¼šæ³¨å…¥å¤šä¸ªå¯¹è±¡æ—¶ï¼Œä»£ç æ¯”è¾ƒç¹ç\nSetteræ³¨å…¥\nä¼˜ç‚¹ï¼šæ–¹ä¾¿åœ¨ç±»å®ä¾‹åï¼Œé‡æ–°å¯¹è¯¥å¯¹è±¡è¿›è¡Œé…ç½®æˆ–æ³¨å…¥\nç¼ºç‚¹ï¼š\nä¸èƒ½æ³¨å…¥â€‹â€‹finalâ€‹â€‹ä¿®é¥°çš„å±æ€§\næ³¨å…¥å¯¹è±¡å¯èƒ½ä¼šè¢«ä¿®æ”¹ï¼Œå› ä¸ºæä¾›äº†setteræ–¹æ³•ï¼Œå°±æœ‰å¯èƒ½è¢«å¤šæ¬¡è°ƒç”¨ä¿®æ”¹çš„é£é™©â€”â€”==è¿™ä¹Ÿå¯¹åº”äº†æ„é€ æ–¹æ³•çš„ä¼˜ç‚¹ï¼šæ³¨å…¥çš„å¯¹è±¡ä¸ä¼šè¢«ä¿®æ”¹==\n@Autowiredå­˜åœ¨çš„é—®é¢˜ å½“åŒä¸€ä¸ªç±»å‹å­˜åœ¨å¤šä¸ªBeanâ€‹æ—¶ï¼Œä½¿ç”¨@Autowiredä¼šå­˜åœ¨é—®é¢˜ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 @Service public class UserService { @Autowired private Student ss; public void print() { System.out.println(ss); System.out.println(\u0026#34;do service\u0026#34;); } } @Component public class StudentComponent { @Bean(\u0026#34;bbb\u0026#34;) public Student s1 () { return new Student(\u0026#34;lili\u0026#34;,9); } @Bean(\u0026#34;ccc\u0026#34;) public Student s2 () { return new Student(\u0026#34;Jack\u0026#34;,25); } } èƒ½çœ‹åˆ°æŠ¥é”™åŸå› æ˜¯ï¼Œéå”¯ä¸€çš„Beanå¯¹è±¡ï¼ŒSpringæ— æ³•åˆ†è¾¨è¯¥æŠŠå“ªä¸ªå¯¹è±¡æ³¨å…¥\nå¦‚ä½•åœ¨ä¸åˆ é™¤Beanå¯¹è±¡çš„å‰æä¸‹ï¼Œè§£å†³ä¸Šè¿°é—®é¢˜å‘¢ï¼ŸSpringç»™äº†ä¸‰ç§æ³¨è§£\nâ€‹@Primary â€‹@Qualifier â€‹@Resource â€‹@Primaryâ€‹ï¼šå½“å­˜åœ¨å¤šä¸ªç›¸åŒç±»å‹çš„Beanâ€‹æ³¨å…¥æ—¶ï¼ŒåŠ ä¸Š@Primaryï¼Œç¡®è®¤é»˜è®¤çš„å®ç°\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 @Service public class UserService { @Autowired private Student ss; public void print() { System.out.println(ss); } } @Component public class StudentComponent { @Bean @Primary // æŒ‡å®šè¯¥Beanä¸ºé»˜è®¤Beançš„å®ç° public Student s1 () { return new Student(\u0026#34;lili\u0026#34;,9); } @Bean public Student s2 () { return new Student(\u0026#34;Jack\u0026#34;,25); } } // è¾“å‡ºç»“æœ // Student(name=lili, age=9) â€‹@Qualifierâ€‹ï¼šæŒ‡å®šå½“å‰Beanâ€‹çš„å¯¹è±¡ï¼Œåœ¨@Qualifierâ€‹çš„valueâ€‹å±æ€§æ³¨å…¥Beanâ€‹çš„åå­— ï¼ˆé»˜è®¤ä¹Ÿæ˜¯valueï¼Œå†…éƒ¨åªæœ‰ä¸€ä¸ªString valueï¼‰\nä¸èƒ½å•ç‹¬ä½¿ç”¨ï¼Œéœ€è¦é…åˆâ€‹ â€‹@Autowiredâ€‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 @Service public class UserService { @Autowired @Qualifier(\u0026#34;s2\u0026#34;) private Student ss; public void print() { System.out.println(ss); } } @Component public class StudentComponent { @Bean public Student s1 () { return new Student(\u0026#34;lili\u0026#34;,9); } @Bean public Student s2 () { return new Student(\u0026#34;Jack\u0026#34;,25); } } // è¾“å‡ºç»“æœ // Student(name=Jack, age=25) â€‹@Resourceâ€‹ï¼šæŒ‰ç…§Beanâ€‹çš„åç§°è¿›è¡Œæ³¨å…¥ï¼Œé€šè¿‡@Qualifierâ€‹é‡Œçš„nameâ€‹å±æ€§æ³¨å…¥Beançš„åå­—\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 @Service public class UserService { // @Autowired // @Qualifier(\u0026#34;s2\u0026#34;) @Resource(name = \u0026#34;bbb\u0026#34;) private Student ss; public void print() { System.out.println(ss); } } @Component public class StudentComponent { // ä½œç”¨æ˜¯ä¸€æ ·çš„ // @Bean({\u0026#34;bbb\u0026#34;,\u0026#34;ccc\u0026#34;}) // @Bean(value = {\u0026#34;bbb\u0026#34;,\u0026#34;ccc\u0026#34;}) @Bean(\u0026#34;bbb\u0026#34;) public Student s1 () { return new Student(\u0026#34;lili\u0026#34;,9); } @Bean public Student s2 () { return new Student(\u0026#34;Jack\u0026#34;,25); } } // è¾“å‡ºç»“æœ // Student(name=lili, age=9) // æ³¨æ„ï¼Œä½¿ç”¨é‡å‘½ååˆ™åŸæ¥æ–¹æ³•å‘½åå°±ä¼šå¤±æ•ˆï¼Œ@Resource(name = \u0026#34;s1\u0026#34;)ä¼šæŠ¥é”™ å¸¸è§é¢è¯•é¢˜ @Autowired ä¸ @Resource çš„åŒºåˆ«\nâ€‹@Autowiredâ€‹ æ˜¯Springæ¡†æ¶æä¾›çš„æ³¨è§£ï¼Œ@Resource æ˜¯JDKæä¾›çš„æ³¨è§£\nâ€‹@Autowiredâ€‹é»˜è®¤æ˜¯æŒ‰ç…§ç±»å‹æ³¨å…¥ï¼Œ@Resourceâ€‹é™¤äº†åŒ¹é…ç±»å‹ï¼Œé»˜è®¤æŒ‰ç…§åç§°æ³¨å…¥ã€‚ç›¸æ¯”äº@Autowiredâ€‹ ï¼Œ@Resourceâ€‹ æ”¯æŒæ›´å¤šçš„å‚æ•°è®¾ç½®ï¼Œä¾‹å¦‚nameâ€‹è®¾ç½®ï¼Œæ ¹æ®åç§°æ¥è·å–Bean\nä¸‰ç§æ³¨å…¥çš„ä¼˜ç¼ºç‚¹\nå¸¸è§æ³¨è§£æœ‰å“ªäº›ï¼Ÿåˆ†åˆ«æ˜¯ä»€ä¹ˆä½œç”¨ï¼Ÿ\nweb URL æ˜ å°„ï¼š@RequestMapping\nå‚æ•°æ¥æ”¶å’Œæ¥å£å“åº”ï¼š@RequestParamï¼Œ@RequestBodyï¼Œ@ResponseBody\nBean çš„å­˜å‚¨ï¼š@Controllerï¼Œ@Serviceï¼Œ@Repositoryï¼Œ@Configurationï¼Œ@Componentï¼Œ@Bean\nBean çš„è·å–ï¼š@Autowiredï¼Œ@Qualifierï¼Œ@Resource\nSpringã€SpringMVCã€SpringBootä¹‹é—´çš„å…³ç³»ä¸åŒºåˆ«\n@Autowiredçš„è£…é…é¡ºåº Springã€SpringMVCã€SpringBootä¹‹é—´çš„å…³ç³»ä¸åŒºåˆ« Springåœ¨ä¸åŒçš„è§’åº¦å›ç­”ä¹Ÿä¸åŒï¼Œåˆ†Springå’ŒSpringFramework\nSpringï¼šæ˜¯Springå®¶æ—ç”Ÿæ€ SpringFrameworkï¼šæ˜¯æ ¸å¿ƒå®¹å™¨ â€\nSpring (Spring Framework)\nå®ƒæ˜¯æ•´ä¸ªå®¶æ—çš„æ ¸å¿ƒå®¹å™¨\næ ¸å¿ƒèƒ½åŠ›ï¼š IoC å’Œ AOP ä½œç”¨ï¼š ç”±Springè´Ÿè´£ç®¡ç† Java å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼Œè®©å¯¹è±¡ä¹‹é—´è§£è€¦ã€‚å¦‚æœæ²¡æœ‰ Springï¼Œç¨‹åºå‘˜éœ€è¦æ‰‹åˆ›å»ºå¯¹è±¡éœ€è¦æ‰‹åŠ¨new Object()ï¼Œæå…¶éš¾ä»¥ç»´æŠ¤ Spring MVC\nå®ƒæ˜¯ Spring æ¡†æ¶ä¸­çš„ä¸€ä¸ªWeb æ¨¡å—\næ ¸å¿ƒèƒ½åŠ›ï¼š åŸºäº Servlet è§„èŒƒï¼Œå®ç°äº† MVCï¼ˆModel-View-Controllerï¼‰è®¾è®¡æ¨¡å¼ æ ¸å¿ƒç»„ä»¶ï¼š DispatcherServletï¼ˆå‰ç«¯æ§åˆ¶å™¨ï¼‰ ä½œç”¨ï¼š ä¸“é—¨è§£å†³ WEB å¼€å‘çš„é—®é¢˜ã€‚å®ƒè´Ÿè´£æ‹¦æˆªç”¨æˆ·å‘æ¥çš„æµè§ˆå™¨è¯·æ±‚ï¼Œåˆ†å‘ç»™å¯¹åº”çš„ Java æ–¹æ³•å¤„ç†ï¼Œå¹¶è¿”å›æ•°æ®æˆ–é¡µé¢ æ³¨æ„ï¼š å®ƒæ˜¯ Spring çš„ä¸€éƒ¨åˆ†ï¼Œä¸æ˜¯ç‹¬ç«‹äº Spring å­˜åœ¨çš„ã€‚ Spring Boot\nå¯¹Springçš„ä¸€ç§å°è£…ï¼Œæ˜¯Springçš„è„šæ‰‹æ¶ï¼Œå®ƒé›†æˆäº†Springå†…çš„å„ç§åŠŸèƒ½ï¼Œå¹¶ä¸”æ˜¯ä¸€å¥— â€œçº¦å®šå¤§äºé…ç½®â€çš„å·¥å…·é›†ã€‚\nå®ƒæ²¡æœ‰åˆ›é€ æ–°çš„æŠ€æœ¯ï¼ˆåº•å±‚è¿˜æ˜¯ Spring MVC, Spring Coreï¼‰ï¼Œä½†å®ƒé€šè¿‡ä¾èµ–ç®¡ç†å’Œè‡ªåŠ¨é…ç½®ï¼ŒæŠŠ Spring å®¶æ—åŸæœ¬é›¶æ•£çš„åŠŸèƒ½ï¼Œæ‰“åŒ…æˆäº†ä¸€ä¸ªå¯ä»¥ç›´æ¥è¿è¡Œçš„â€œè„šæ‰‹æ¶â€ï¼Œè®©å¼€å‘æ›´ä¸“æ³¨äºSpringåº”ç”¨çš„å¼€å‘ï¼Œæ— éœ€è¿‡å¤šå…³å¿ƒXMLçš„é…ç½®å’Œåº•å±‚çš„å®ç°\næ ¸å¿ƒèƒ½åŠ›ï¼š è‡ªåŠ¨é…ç½® + èµ·æ­¥ä¾èµ–ï¼ˆStarterï¼‰+ å†…åµŒæœåŠ¡å™¨ï¼ˆTomcat/Jettyï¼‰\nå¿«é€Ÿæ­å»ºç»“æ„ï¼Œä¿æŒç¨³å®šï¼ŒSpringBootå¼ºçš„åœ°æ–¹åœ¨äºç‰ˆæœ¬ç®¡ç†ï¼Œæœ‰ä¸€ä¸ªçˆ¶çº§é…ç½®æ–‡ä»¶ï¼Œé‡Œé¢å†™æ­»äº†å‡ ç™¾ç§å¸¸ç”¨åº“çš„æœ€ä½³å…¼å®¹ç‰ˆæœ¬å·ï¼Œå†™ä»£ç æ—¶ï¼Œå¼•å…¥ä¾èµ–å°±ä¸éœ€è¦å†å†™ç‰ˆæœ¬å·ï¼Œé»˜è®¤ä¼šä½¿ç”¨SpringBootè§„å®šçš„æœ€ä½³ç‰ˆæœ¬å·\nä½œç”¨ï¼š\nç®€åŒ–é…ç½®ï¼š ä»¥å‰ç”¨ Spring + SpringMVCï¼Œéœ€è¦é…ç½® web.xml, applicationContext.xml ç­‰ä¸€å †æ–‡ä»¶ã€‚Spring Boot é€šè¿‡æ‰«æä½ çš„ jar åŒ…ï¼Œè‡ªåŠ¨å¸®ä½ æŠŠè¿™äº›éƒ½é…å¥½äº†\nç®€åŒ–éƒ¨ç½²ï¼š å®ƒæŠŠ Tomcat è¿™ç§ Web æœåŠ¡å™¨ç›´æ¥å¡è¿›äº† jar åŒ…é‡Œï¼Œä½ è¿è¡Œ java -jar å°±èƒ½å¯åŠ¨ç½‘ç«™ï¼Œä¸ç”¨å†å»ç‹¬ç«‹å®‰è£… Tomcat\nğŸ¥±å¦‚ä½•ç†è§£ â€œçº¦å®šå¤§äºé…ç½®â€ ï¼Ÿ\nä¸ä»…ä»…æŠŠæ ¸å¿ƒçš„åŠŸèƒ½æ‰“åŒ…å¥½ï¼Œè€Œä¸”é»˜è®¤è§„å®šäº†ä¸€å¥—è§„åˆ™ï¼Œç¨‹åºå‘˜å¼€å‘è¿‡ç¨‹ä¸­çš„çº¦å®šï¼Œå¤§éƒ¨åˆ†éƒ½éµå®ˆè¿™å¥—è§„åˆ™ï¼Œå¦‚æœæ²¡æœ‰ç‰¹æ®Šçš„è¦æ±‚ï¼Œé‚£å°±æŒ‰ç…§é»˜è®¤çš„è§„åˆ™æ‰§è¡Œå¦‚ï¼š\nwebåº”ç”¨çš„ç«¯å£å·é»˜è®¤æ˜¯8080\nä»£ç å†™åœ¨å“ªé‡Œï¼Ÿåªè¦ä½ çš„ä»£ç æ”¾åœ¨ä¸»å¯åŠ¨ç±»ï¼ˆMain Applicationï¼‰æ‰€åœ¨çš„åŒ…æˆ–è€…å­åŒ…ä¸‹é¢ï¼Œæˆ‘å°±èƒ½æ‰«æåˆ°\né™æ€èµ„æºï¼ˆå›¾ç‰‡/JS/CSSï¼‰æ”¾å“ªé‡Œï¼ŸSpring Boot çº¦å®šåªè¦ä½ æŠŠæ–‡ä»¶æ‰”åœ¨ src/main/resources/static æ–‡ä»¶å¤¹é‡Œï¼Œæˆ‘å°±ç›´æ¥å¯¹å¤–å¼€æ”¾è®¿é—®\næ€»ç»“ï¼šçº¦å®šå¤§äºé…ç½® = ç³»ç»Ÿè‡ªå¸¦ä¸€å¥—â€œæœ€ä½³å®è·µâ€çš„é»˜è®¤å€¼\nå¦‚æœæ²¡ç‰¹æ®Šéœ€æ±‚ï¼Œå°±å¯ä»¥å¼€ç®±å³ç”¨ æœ‰ç‰¹æ®Šéœ€æ±‚ï¼šåœ¨application.propertiesé‡Œæ‰‹åŠ¨é…ç½®ï¼Œçµæ´»åº¦é«˜ ä¸€å¥è¯æ€»ç»“ï¼šSpring MVC å’Œ Spring Boot éƒ½å±äºSpringï¼ŒSpring MVC æ˜¯ Springçš„ä¸€ä¸ªMVC æ¡†æ¶ï¼ŒSpring Boot åˆ™æ˜¯åŸºäº Spring çš„ä¸€å¥—å¿«é€Ÿå¼€å‘æ•´åˆåŒ…ï¼ˆè„šæ‰‹æ¶ï¼‰\nâ€\n","date":"2025-12-08T17:12:08+07:00","image":"https://Jul1en-Lin.github.io/p/springdi-%E8%AF%A6%E8%A7%A3/pawel-splash_hu_e95a4276bf860a84.jpg","permalink":"https://Jul1en-Lin.github.io/p/springdi-%E8%AF%A6%E8%A7%A3/","title":"SpringDI è¯¦è§£"},{"content":"SpringIoC ä»‹ç» Spring IoC ä¸ AOP ä½œä¸ºSpringä¸¤ä¸ªæ ¸å¿ƒæ€æƒ³ï¼Œå­¦å¥½è¿™ä¸¤å¤§çŸ¥è¯†æ˜¯å¯¹æŒæ¡Springæ˜¯éå¸¸é‡è¦çš„ã€‚\nIoCå…¨åä¸ºInversion of Controlï¼Œå³â€œæ§åˆ¶åè½¬â€ï¼Œä½•ä¸ºæ§åˆ¶åè½¬å‘¢ï¼Ÿ\næ§åˆ¶ï¼šæŒ‡çš„æ˜¯å¯¹è±¡çš„åˆ›å»ºã€åˆå§‹åŒ–ã€é”€æ¯å’Œç”Ÿå‘½å‘¨æœŸçš„ç®¡ç†æƒ\nåè½¬ï¼šæŒ‡è¿™ç§ç®¡ç†æƒå‘ç”Ÿäº†åè½¬ï¼š\nä¼ ç»Ÿæ¨¡å¼ï¼šä¸€èˆ¬æ˜¯ç”±ç¨‹åºå‘˜æ¥æ‰‹åŠ¨newåˆ›å»ºå¯¹è±¡ã€å¹¶ç®¡ç†ä¾èµ–ï¼Œç±»ä¼¼UserController user = new UserController() IoCæ¨¡å¼ï¼šå¯¹è±¡çš„åˆ›å»ºå’Œä¾èµ–çš„æ³¨å…¥æƒäº¤ç»™Springæ¥ç®¡ç†ã€‚ç¨‹åºä¸å†ç”±ç¨‹åºå‘˜ä¸»åŠ¨æ¥åˆ›å»ºï¼Œè€Œæ˜¯è¢«åŠ¨ç­‰å¾…Springå®¹å™¨å°†æ‰€éœ€çš„å¯¹è±¡æ³¨å…¥ / æå–å‡ºæ¥ SpringIoCä½œä¸ºä¸€ä¸ªå®¹å™¨ï¼Œå®ƒç®¡ç†ï¼ˆè£…ï¼‰çš„æ˜¯å¯¹è±¡ï¼ˆBeanï¼‰ï¼Œé€šè¿‡æ³¨è§£å°†å¯¹è±¡äº¤ç»™Springç®¡ç†ï¼Œæœ‰ä¸¤ç±»æ³¨è§£ï¼š\nç±»æ³¨è§£ï¼š@Controller @Service @Repository @Configuration @Component æ–¹æ³•æ³¨è§£ï¼š@Bean Qï¼šä¸ºä»€ä¹ˆéœ€è¦è¿™ç§æ¨¡å¼ï¼Ÿ\nAï¼šç›®çš„æ˜¯ä¸ºäº†è§£è€¦åˆï¼Œå°†å¯¹è±¡çš„åˆ›å»ºæƒäº¤ç»™Springï¼Œå„ä¸ªç»„ä»¶ä¹‹é—´ä¸å†å¼ºä¾èµ–ï¼Œä½¿å¾—ä»£ç æ›´åŠ å®¹æ˜“ç»´æŠ¤ã€ç®¡ç†ä¸æ‰©å±•\nè¿™é‡Œæœ‰ç®€å•çš„ä»£ç å®åŠ›ï¼Œå¯¹æ¯”ä¼ ç»Ÿæ¨¡å¼ä¸IoCæ¨¡å¼çš„åŒºåˆ«ï¼šå‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªç”¨æˆ·æœåŠ¡ (â€‹â€‹UserServiceâ€‹â€‹ ) ï¼Œå®ƒéœ€è¦è°ƒç”¨æ•°æ®è®¿é—®å±‚ (â€‹â€‹UserDaoâ€‹â€‹ ) æ¥æŠŠç”¨æˆ·ä¿¡æ¯ä¿å­˜åˆ°æ•°æ®åº“\nä¼ ç»Ÿæ¨¡å¼ï¼šåœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼ŒUserServiceâ€‹ è‡ªå·±è´Ÿè´£åˆ›å»ºå®ƒéœ€è¦çš„ä¾èµ–å¯¹è±¡ã€‚\n1 2 3 4 5 6 7 8 9 10 public class UserService { // âŒ ç¼ºç‚¹ï¼šé«˜åº¦è€¦åˆ // UserService å¿…é¡»æ˜ç¡®çŸ¥é“ UserDao çš„å…·ä½“å®ç°ç±»æ˜¯å“ªä¸ª (UserDaoImpl) // å¦‚æœå°†æ¥æƒ³æ¢æˆ UserDaoNewImplï¼Œå¿…é¡»ä¿®æ”¹è¿™é‡Œçš„ä»£ç  private UserDao userDao = new UserDaoImpl(); public void saveUser(String name) { userDao.add(name); } } æ§åˆ¶æƒï¼š åœ¨ç¨‹åºå‘˜æ‰‹ä¸­ã€‚ä½ å¿…é¡»æ‰‹åŠ¨å†™ new UserDaoImpl()ã€‚ é—®é¢˜ï¼š ä»£ç â€œå†™æ­»â€äº†ã€‚å¦‚æœä½ æƒ³åšå•å…ƒæµ‹è¯•ï¼ˆMock ä¸€ä¸ªå‡çš„ UserDaoï¼‰ï¼Œéå¸¸å›°éš¾ã€‚ Spring IoCæ¨¡å¼ï¼ˆä¾èµ–æ³¨å…¥ï¼‰ï¼šåœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼ŒUserServiceâ€‹ åªå®šä¹‰å®ƒéœ€è¦ä»€ä¹ˆï¼Œè€Œä¸å…³å¿ƒå¯¹è±¡æ˜¯æ€ä¹ˆæ¥çš„ã€‚Spring å®¹å™¨è´Ÿè´£æŠŠå¯¹è±¡â€œé€’â€è¿›å»ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 import org.springframework.beans.factory.annotation.Autowired; import org.springframework.stereotype.Service; @Service // 1. å‘Šè¯‰ Springï¼šè¿™ä¸ªç±»äº¤ç»™ä½ ç®¡ç†ï¼Œå®ƒæ˜¯ä¸€ä¸ª Beanï¼ˆå¯¹è±¡ï¼‰ public class UserService { // âœ… ä¼˜ç‚¹ï¼šè§£è€¦ // UserService åªçŸ¥é“å®ƒéœ€è¦ä¸€ä¸ª UserDao æ¥å£ // å…·ä½“æ˜¯å“ªä¸ªå®ç°ç±»ï¼Œç”± Spring å®¹å™¨è‡ªåŠ¨æ³¨å…¥ @Autowired private UserDao userDao; public void saveUser(String name) { userDao.add(name); } } æ§åˆ¶æƒï¼š åœ¨ Spring å®¹å™¨æ‰‹ä¸­ï¼ˆåè½¬äº†ï¼‰ã€‚\nå‘ç”Ÿäº†ä»€ä¹ˆï¼š\nSpring æ‰«æåˆ° @Serviceâ€‹ï¼Œåˆ›å»ºå¹¶ç®¡ç†äº† UserService çš„å®ä¾‹ã€‚ Spring çœ‹åˆ° @Autowiredâ€‹ï¼Œå‘ç° UserServiceâ€‹ éœ€è¦ä¸€ä¸ª UserDaoã€‚ Spring åœ¨è‡ªå·±çš„å®¹å™¨é‡Œæ‰¾åˆ°åˆé€‚çš„ UserDaoâ€‹ å®ä¾‹ï¼Œç›´æ¥æ³¨å…¥ï¼ˆèµ‹å€¼ï¼‰ç»™ userDao å˜é‡ã€‚ å‰ææ˜¯UserDaoâ€‹ä¹Ÿéœ€è¦è¢«Springç®¡ç†ï¼Œæ•°æ®å±‚ä¸€èˆ¬æ·»åŠ @Repositoryæ³¨è§£ç®¡ç†\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 import org.springframework.stereotype.Repository; // 1. å®šä¹‰æ¥å£ public interface UserDao { void add(String name); } // 2. å®ç°æ¥å£ï¼Œå¹¶åŠ ä¸Š @Repository æ³¨è§£ @Repository public class UserDaoImpl implements UserDao { @Override public void add(String name) { // æ¨¡æ‹Ÿæ•°æ®åº“æ“ä½œ System.out.println(\u0026#34;ä¿å­˜ç”¨æˆ·åˆ°æ•°æ®åº“: \u0026#34; + name); } } çœ‹åˆ°è¿™ä¼šç–‘æƒ‘ä¸ºä»€ä¹ˆè¦ä¸“é—¨å†™ä¸€ä¸ªUserDaoâ€‹æ¥å£ï¼Œç„¶åä¸“é—¨äº¤ç»™UserDaoImplæ¥å®ç°ï¼Ÿ\nç®€çŸ­çš„å›ç­”æ˜¯ï¼š\nä»æŠ€æœ¯ä¸Šè®²ï¼Œå®Œå…¨å¯ä»¥ä¸å†™æ¥å£ï¼Œç›´æ¥å®šä¹‰ä¸€ä¸ª UserDaoâ€‹ ç±»å¹¶åŠ ä¸Š @Repositoryï¼ŒSpring ç…§æ ·èƒ½å·¥ä½œ\nä½†æ˜¯ä½¿ç”¨æ¥å£+å®ç°ç±»çš„æ¨¡å¼ä¸»è¦æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š\nè¿™æ˜¯é¢å‘å¯¹è±¡è®¾è®¡ï¼ˆSOLID åŸåˆ™ï¼‰ä¸­çš„ D (Dependency Inversion Principle)æ€æƒ³â€”â€”ä¸Šå±‚æ¨¡å—ï¼ˆServiceï¼‰ä¸åº”è¯¥ä¾èµ–äºä¸‹å±‚æ¨¡å—ï¼ˆDAOï¼‰çš„å…·ä½“å®ç°ï¼Œè€Œåº”è¯¥ä¾èµ–äºæŠ½è±¡ï¼ˆæ¥å£ï¼‰ã€‚\nâ€‹UserServiceâ€‹åªéœ€è¦çŸ¥é“æœ‰UserDaoâ€‹æ¥å£ï¼Œåªéœ€è¦è°ƒç”¨UserDaoæ¥å£å†…çš„æ–¹æ³•å°±å¥½äº†ï¼Œä½†å…·ä½“æ€ä¹ˆå®ç°çš„åˆ™ä¸éœ€è¦çŸ¥é“ï¼ˆæ˜¯ç”¨ MySQL å†™çš„ï¼Œè¿˜æ˜¯ç”¨ Oracle å†™çš„ï¼Œæˆ–è€…æ˜¯æŠŠæ•°æ®å†™åˆ°äº† Redis é‡Œï¼‰\nä¸¾ä¾‹ï¼š å¦‚æœæœ‰ä¸€å¤©ä½ éœ€è¦æŠŠæ•°æ®åº“ä» MySQL æ¢æˆ MongoDBï¼Œä½ åªéœ€è¦æ–°å†™ä¸€ä¸ª UserDaoMongoImplâ€‹ å®ç°æ¥å£ï¼Œè€Œä¸éœ€è¦ä¿®æ”¹ UserService çš„ä»»ä½•ä¸€è¡Œä»£ç ã€‚\nSpring AOPçš„åŸå› \nAOPçš„åº•å±‚åŸç†æ˜¯åŠ¨æ€ç®¡ç†\nJDKåŠ¨æ€ä»£ç†ï¼ˆæ ‡å‡†ï¼‰\nåªèƒ½ä»£ç†æ¥å£ï¼Œå¦‚æœBeanå¯¹è±¡å®ç°äº†æ¥å£ï¼ŒSpringä¼šé»˜è®¤ä½¿ç”¨JDKåŠ¨æ€ä»£ç†ï¼Œæ•ˆç‡é«˜ï¼ŒåŸç”Ÿæ”¯æŒå¥½\nCGLIBä»£ç†ï¼ˆç¬¬ä¸‰æ–¹ï¼‰\nå¦‚æœBeanå¯¹è±¡æ²¡æœ‰å®ç°æ¥å£ï¼Œåªæ˜¯ä»£ç†äº†ä¸€ä¸ªæ™®é€šçš„ç±»ï¼ŒSpringå°±å¿…é¡»ä½¿ç”¨ç¬¬ä¸‰æ–¹CGLIBåº“ï¼Œç»§æ‰¿ä½ çš„ç±»å¹¶é‡å†™æ–¹æ³•æ¥ç”Ÿæˆä»£ç†\nè™½ç„¶ç°åœ¨SpringBootèƒ½å¾ˆå¥½çš„è§£å†³è¿™ä¸€ç±»é—®é¢˜ï¼Œä½†ä½¿ç”¨æ¥å£é…åˆJDKåŠ¨æ€ç®¡ç†å·²ç»æˆä¸ºäº†ä¸€ç§æƒ¯ä¾‹\nğŸ’«ORMæ¡†æ¶çš„ç‰¹æ®Šéœ€æ±‚ï¼ˆå¦‚MyBatisã€JPAï¼‰\nå¦‚æœä½¿ç”¨çš„æ˜¯MyBatisæˆ–Spring Data JPAï¼Œé‚£å°±åªéœ€è¦å†™æ¥å£ï¼Œè¿å®ç°ç±»éƒ½ä¸ç”¨å†™\nMyBatisï¼šä½ å®šä¹‰UserMapperæ¥å£ï¼ŒMyBatisä¼šè‡ªåŠ¨ç”Ÿæˆä»£ç†å¯¹è±¡æ‰§è¡ŒSQL JPAï¼šä½ å®šä¹‰UserRepositoryâ€‹æ¥å£ï¼Œç»§æ‰¿JpaRepositoryï¼ŒSpring Dataè‡ªåŠ¨å¸®ä½ ç”Ÿæˆå¢åˆ æ”¹æŸ¥çš„å®ç° åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ç°æ¥å£æ˜¯å¿…é¡»çš„ï¼Œå› ä¸ºå®ç°ç±»æ˜¯ç”±æ¡†æ¶åœ¨è¿è¡Œæ—¶åŠ¨æ€ç”Ÿæˆçš„ï¼Œä½ ä¹Ÿæ— æ³•å»å†™ä¸€ä¸ªå…·ä½“çš„ç±»\näº”å¤§æ³¨è§£è¯¦è§£ ç±»æ³¨è§£ï¼š@Controller @Service @Repository @Configuration @Component æ–¹æ³•æ³¨è§£ï¼š@Bean ç€é‡è®²ä¸€ä¸‹ç±»æ³¨è§£ï¼Œèƒ½å‘ç°è¿™æœ‰äº”ç§ä¸åŒçš„ç±»æ³¨è§£ï¼Œä½†éƒ½èƒ½äº¤ç»™Springç®¡ç†ï¼Œé‚£ä»–ä»¬çš„åŒºåˆ«æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ\nä¸åŒçš„ç±»æ³¨è§£ä»åå­—ä¸Šå°±èƒ½çœ‹å‡ºä¸»è¦åº”ç”¨åœ¨å“ªä¸ªå±‚ï¼Œæœ€åŸºæœ¬çš„é¡¹ç›®å¼€å‘éƒ½ä¼šæœ‰ â€œæ§åˆ¶å±‚â€”\u0026gt;æœåŠ¡é€»è¾‘å±‚â€”\u0026gt;æ•°æ®å±‚â€ çš„ç»“æ„ï¼Œå¦‚æœæ›´åŠ å¤æ‚çš„é¡¹ç›®å¼€å‘åˆ†å¼€çš„æ›´åŠ ç»†è‡´ï¼Œæ‰€ä»¥ä¸åŒçš„æ³¨è§£åå­—ä¹Ÿèƒ½ç¬¬ä¸€çœ¼å°±èƒ½çœ‹å‡ºè¿™ä¸ªå¯¹è±¡ä¸»è¦åœ¨å“ªä¸ªå±‚åœ¨å·¥ä½œ\nåŸºæœ¬å…³ç³»ä¸ºï¼š æ§åˆ¶å±‚è°ƒç”¨æœåŠ¡å±‚ï¼ŒæœåŠ¡å±‚è°ƒç”¨æ•°æ®å±‚ï¼Œæ•°æ®å±‚è¿”å›ç»“æœç»™æœåŠ¡å±‚ï¼ŒæœåŠ¡å±‚å†è¿”å›ç»“æœç»™æ§åˆ¶å±‚ã€‚\n@Controllerï¼šæ§åˆ¶å±‚â€”â€”æ¥å—å‚æ•°ï¼Œè¿”å›å“åº”ï¼ˆå‰åç«¯äº¤äº’çš„å…¥å£ï¼‰\n@Serviceï¼šä¸šåŠ¡é€»è¾‘å±‚\n@Repositoryï¼šæ•°æ®å±‚\n@Configurationï¼šé…ç½®å±‚\n@Componentï¼šç»„ä»¶å±‚â€”â€”é™¤æ­¤ä»¥å¤–çš„æ‰€æœ‰éœ€è¦äº¤ç»™Springç®¡ç†çš„å¯¹è±¡éƒ½èƒ½ç”¨æ­¤æ³¨è§£\næˆ‘ä»¬æ‰’å¼€æºç æŸ¥çœ‹ï¼Œèƒ½çœ‹å‡ºä»–ä»¬ä¹‹é—´çš„å…³ç³»\nå…¶ä¸­@Controller @Service @Repository @Configuration éƒ½å®ç°äº†@Componentï¼Œå®ƒä»¬éƒ½æ˜¯@Componentçš„è¡ç”Ÿæ³¨è§£\nåœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¿™äº”ä¸ªæ³¨è§£çš„è¾¹ç•Œå¹¶æ²¡æœ‰è¿™ä¹ˆæ¸…æ™°ï¼Œä½†æ§åˆ¶å±‚å¿…é¡»ä½¿ç”¨@Controllerï¼Œä¸å¯ä»¥å’Œå…¶ä»–æ³¨è§£æ›¿æ¢\nBeanName åœ¨Springå®¹å™¨ä¸­å–å‡ºå¯¹è±¡æ—¶ä¼šä½¿ç”¨å¯¹åº”çš„BeanNameï¼Œç±»æ³¨è§£ä¸æ–¹æ³•æ³¨è§£éƒ½æœ‰ä¸åŒçš„BeanNameå‘½åæ–¹æ³•\näº”å¤§ç±»æ³¨è§£\nBeanNameé»˜è®¤ä¸ºç±»åçš„å°é©¼å³°å†™æ³•ï¼Œå¦‚æœç±»åå‰ä¸¤ä½å­—æ¯å‡ä¸ºå¤§å†™åˆ™BeanNameä¸ºç±»åæœ¬èº«ï¼Œä¸¾ä¾‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 @Controller public class UserController { public void print() { System.out.println(\u0026#34;do controller\u0026#34;); } } public static void main(String[] args) { /** * è·å– bean çš„å‘½åæ–¹å¼ * é¦–å­—æ¯éœ€å˜å°å†™ * å¦‚æœè¿ç»­ä¸¤ä¸ªå¤§å†™å­—æ¯å¼€å¤´åˆ™ç›´æ¥å†™ */ ApplicationContext run = SpringApplication.run(SpringIocApplication.class, args); UserController bean = (UserController) run.getBean(\u0026#34;userController\u0026#34;); bean.print(); } æ–¹æ³•æ³¨è§£@Bean\néœ€è¦æ­é…äº”å¤§æ³¨è§£ä½¿ç”¨ï¼ŒBeanNameä¸ºé»˜è®¤æ–¹æ³•åï¼Œä¸¾ä¾‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 @Component public class StudentComponent { @Bean public Student s1 () { return new Student(\u0026#34;lili\u0026#34;,9); } @Bean public Student s2 () { return new Student(\u0026#34;Jack\u0026#34;,25); } } public static void main(String[] args) { /** * åŒæ—¶åœ¨æ³¨è§£ä¸­ä¹Ÿæä¾›äº†å¯¹ç±» / æ–¹æ³•è¿›è¡Œé‡å‘½å * åŒ…æ‹¬ @Controller @Service @Configuration @Repository @Component @Bean * æ³¨è§£åå¯¹åº”çš„ç±»å / æ–¹æ³•ååˆ™æ— æ•ˆ * åªèƒ½å¡«é‡å‘½ååçš„ * @Bean(\u0026#34;aaa\u0026#34;) * public Student s2 () { * return new Student(\u0026#34;Jack\u0026#34;,25); * } * å¦‚æœæ˜¯run.getBean(\u0026#34;s2\u0026#34;) æŠ¥é”™ï¼šNoSuchBeanDefinitionException */ Student s = (Student)run.getBean(\u0026#34;s2\u0026#34;); System.out.println(s); } â€\n","date":"2025-12-08T17:12:08+08:00","image":"https://Jul1en-Lin.github.io/p/spring-ioc-%E6%8E%A7%E5%88%B6%E5%8F%8D%E8%BD%AC/Gemini_Image_77j_hu_dbe9d00be5e8b972.png","permalink":"https://Jul1en-Lin.github.io/p/spring-ioc-%E6%8E%A7%E5%88%B6%E5%8F%8D%E8%BD%AC/","title":"Spring IoC æ§åˆ¶åè½¬"}]